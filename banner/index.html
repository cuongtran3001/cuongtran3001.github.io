<html><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1">

    <title>3D Cube  Cross Browser</title>
    
        <style>
		body {
		  margin: 0;
		  pading: 0;
		  overflow: hidden;
		}
		.cube, .cube .face {
		  position: absolute;
		  top: 50%;
		  left: 50%;
		}

		.cube .face * {
		  position: absolute;
		}

		.clickTag {
		  width: 100%;
		  height: 100%;
		  background: white;
		  opacity: 0.01;
		}

		.cube {
		  -webkit-user-select: none;
		  cursor: move;
		}

		.face {
		  text-transform: uppercase;
		  box-sizing: border-box;
		  /*border: solid 1px;*/
		  backface-visibility: hidden;
		}

		.front {
		  background: rgba(255, 0, 0, 1);
		}

		.right {
		  background: rgba(255, 255, 0, 1);
		}

		.back {
		  background: rgba(0, 255, 0, 1);
		}

		.left {
		  background: rgba(0, 255, 255, 1);
		}

		.top {
		  background: rgba(0, 0, 255, 1);
		}

		.bottom {
		  background: rgba(255, 0, 255, 1);
		}

		</style>
    
  </head>

  <body>

    <input id="direction" type="checkbox">Change to vertical scroll

	<div class="cube" id="banner">
	  <div class="face front" style="margin-left: -150px; margin-top: -125px; width: 300px; height: 250px; transform: perspective(1000px) rotateY(180deg) rotateY(-90deg) rotateY(0deg) translateZ(150px);"><iframe src="http://cuongtran3001.github.io/banner/01/" width="300" height="250"></iframe><div class="clickTag"></div></div>
	  <div class="face right" style="margin-left: -150px; margin-top: -125px; width: 300px; height: 250px; transform: perspective(1000px) rotateY(180deg) rotateY(-90deg) rotateY(90deg) translateZ(150px);"><img src="http://demo.akadigital.vn/3DCube/assets/wall1.png" width="300" height="250"></div>
	  <div class="face back" style="margin-left: -150px; margin-top: -125px; width: 300px; height: 250px; transform: perspective(1000px) rotateY(180deg) rotateY(-90deg) rotateX(0deg) rotateY(180deg) translateZ(150px);"><img src="http://demo.akadigital.vn/3DCube/assets/wall3.png" width="300" height="250"></div>
	  <div class="face left" style="margin-left: -150px; margin-top: -125px; width: 300px; height: 250px; transform: perspective(1000px) rotateY(180deg) rotateY(-90deg) rotateY(270deg) translateZ(150px);"><img src="http://demo.akadigital.vn/3DCube/assets/wall4.png" width="300" height="250"></div>
	  <div class="face top" style="margin-left: -150px; margin-top: -150px; width: 300px; height: 300px; transform: perspective(1000px) rotateY(180deg) rotateY(-90deg) rotateX(90deg) translateZ(125px);"><img src="http://placehold.it/300x300" width="300" height="300"></div>
	  <div class="face bottom" style="margin-left: -150px; margin-top: -150px; width: 300px; height: 300px; transform: perspective(1000px) rotateY(180deg) rotateY(-90deg) rotateX(-90deg) translateZ(125px);"><img src="http://placehold.it/300x300" width="300" height="300"></div>
	</div>
      
    <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>

    <script>
		  var faces = document.querySelectorAll('.face'), nunOfFace = 6, width = 300, height = 250, styles = [], isDrag = false, isVertical = false, currentPoint, currentAngle, upAngle, perspective = 'perspective(1000px) ';
	
		function onMouseMoveHandler(x, y) {
			var nextPoint = {
				'x': x - currentPoint.x,
				'y': y - currentPoint.y
			};
			var angle = {
				'x': -nextPoint.y / 2,
				'y': nextPoint.x / 2
			};
			updateFaces(isVertical ? angle.x : angle.y);
			currentAngle = isVertical ? angle.x : angle.y;
			var piece = currentAngle % 90;
			if (Math.abs(piece) >= 45) {
				upAngle = piece > 0 ? currentAngle + 90 - piece : currentAngle - 90 - piece;
			} else {
				upAngle = currentAngle - piece;
			}
		};

		var cube = document.getElementById('banner');
		
		cube.addEventListener('touchstart', function(evt){
			evt.preventDefault();
			
			var touch = evt.targetTouches[0];			
			onMouseDownOrTouchStart(touch.clientX, touch.clientY);
		}, false);
			
		cube.addEventListener('mousedown', function (evt) {
			evt.preventDefault();
			onMouseDownOrTouchStart(evt.clientX, evt.clientY);
		}, false);
		
		function onMouseDownOrTouchStart(x, y) {
			currentPoint = {
				'x': x,
				'y': y
			};
			isDrag = true;
			
			window.addEventListener('mousemove', function(evt) {
				onMouseMoveHandler(evt.clientX, evt.clientY);
			}, false);
			
			window.addEventListener('touchmove', function(evt) {
				var touch = evt.targetTouches[0];			
				onMouseMoveHandler(touch.clientX, touch.clientY);
			}, false);
		};
		
		cube.addEventListener('click', function (evt) {
			if (currentPoint.x == evt.clientX && currentPoint.y == evt.clientY) {
				window.open('http://www.google.com', '_blank');
			}
		}, false);

		window.addEventListener('mouseup', onMouseUpHandler, false);
		function onMouseUpHandler(evt) {
			onUpHandler();
		}
		
		window.addEventListener('touchend', onTouchEndHandler, false);
		function onTouchEndHandler(evt) {
			onUpHandler();
		}
		
		function onUpHandler() {
			if (isDrag) {
				var obj = { angle: currentAngle };
				TweenMax.to(obj, 0.3, {
					angle: upAngle,
					onUpdate: function () {
						updateFaces(obj.angle);
					},
					onComplete: function () {
						resetFaces();
					}
				});
			}
			isDrag = false;
			window.removeEventListener('mousemove', onMouseMoveHandler, false);
		}
		
		function resetFaces() {
			var transform;
			for (var i = 0; i < nunOfFace; i++) {
				transform = faces[i].style.transform || faces[i].style.webkitTransform;
				styles[i] = transform.replace(perspective, '');
			}    
		}
		function updateFaces(angle) {
			var transform;
			for (var i = 0; i < nunOfFace; i++) {
				transform = (isVertical ? 'rotateX(' + angle + 'deg)' : 'rotateY(' + angle + 'deg)') + styles[i];
				faces[i].style.transform = faces[i].style.webkitTransform = perspective + transform;
			}    
		}
		
		function initFaces() {
			var transform;
			styles = [];
			for (var i = 0; i < nunOfFace; i++) {
				transform = i < 4 ? 'rotateY(' + i * 90 + 'deg)' : 'rotateX(' + Math.pow(-1, i) * 90 + 'deg)';
				if (i == 2) {
					transform = isVertical ? 'rotateX(180deg) rotateY(0deg)' : 'rotateX(0deg) rotateY(180deg)';
				}
				transform = transform + ' translateZ(' + (i < 4 ? width / 2 : height / 2) + 'px)';
				faces[i].style.marginLeft = -width / 2 + 'px';
				faces[i].style.marginTop = -(i < 4 ? height / 2 : width / 2) + 'px';
				faces[i].style.width = width + 'px';
				faces[i].style.height = (i < 4 ? height : width) + 'px';
				faces[i].style.transform = faces[i].style.webkitTransform = perspective + transform;
				styles.push(transform);
			}
		}

		initFaces();
		
		var direction = document.getElementById('direction');
		direction.addEventListener('click', function () {
			changeDirection(this.checked);
		}, false);
		
		function changeDirection(isChecked) {
			isVertical = isChecked;
			initFaces();
		}
      
    </script>
 
</body></html>